<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte Sesión 2 | Lenin Campos</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
</head>

<body>

    <nav class="navbar">
        <div class="logo">
            <a href="../../index.html"><i class="fas fa-terminal"></i> LeninCampos</a>
        </div>
        <ul class="nav-links" id="navLinks">
            <li><a href="../../index.html">/home</a></li>
            <li><a href="../index.html">../volver_al_parcial</a></li>
        </ul>
        <div class="burger" onclick="toggleMenu()">
            <div class="line1"></div>
            <div class="line2"></div>
            <div class="line3"></div>
        </div>
    </nav>

    <header class="report-header">
        <div class="header-content">
            <div class="meta-tags">
                <span class="tag">Parcial 1</span>
                <span class="tag">Semana 2</span>
                <span class="tag">Sesión 2</span>
            </div>
            <h1>DBMS en máquina virtual de Google Cloud</h1>
            <p class="subtitle">Fecha: 23 de Enero, 2026</p>
        </div>
    </header>

    <main class="report-container">

        <section class="report-section">
            <h2 class="section-title"><i class="fas fa-bullseye"></i> 1. Objetivo y Contexto</h2>
            <div class="content-box">
                <p><strong>Objetivo:</strong> Implementar medidas de seguridad (Hardening) en el servidor de base de datos MariaDB y aplicar el Lenguaje de Control de Datos (DCL) para la segregación de privilegios. Se busca evitar el uso del usuario 'root' para operaciones rutinarias, estableciendo roles específicos para la gestión de la base de datos "Biblioteca".</p>
                <p><strong>Contexto:</strong> Una instalación por defecto de un DBMS es insegura. Es imperativo configurar la autenticación, eliminar usuarios anónimos y bases de datos de prueba antes de cualquier despliegue. Además, la gestión de backups lógicos es crucial para la recuperación ante desastres.</p>
            </div>
        </section>

        <section class="report-section">
            <h2 class="section-title"><i class="fas fa-book"></i> 2. Conceptos y Profundización</h2>
            <div class="content-box">
                <p>La sesión se centró en la administración técnica del DBMS, diferenciando entre usuarios del sistema operativo y usuarios de la base de datos.</p>
                <ul>
                    <li><strong>DCL (Data Control Language):</strong> Subconjunto de SQL utilizado para controlar el acceso a los datos. Comandos principales: <code>GRANT</code> (otorgar permisos) y <code>REVOKE</code> (quitar permisos). Esto permite implementar el principio de "menor privilegio".</li>
                    <li><strong>Mysql_secure_installation:</strong> Script de seguridad crítico que permite establecer la contraseña de root, eliminar usuarios anónimos, deshabilitar el login remoto de root y borrar la base de datos 'test'.</li>
                    <li><strong>Root del Sistema vs Root del DBMS:</strong> El usuario 'root' de Linux tiene control sobre el kernel y los archivos, mientras que el 'root' de MariaDB tiene control total sobre los esquemas y datos. Son entidades separadas aunque compartan nombre.</li>
                    <li><strong>Backup Lógico (mysqldump):</strong> Herramienta que genera un archivo de texto con las sentencias SQL necesarias (CREATE, INSERT) para reconstruir la base de datos desde cero.</li>
                </ul>
            </div>
        </section>

        <section class="report-section">
            <h2 class="section-title"><i class="fas fa-desktop"></i> 3. Evidencia de Ejecución</h2>
            <div class="content-box">
                <p>Captura de pantalla mostrando la gestión de usuarios y pruebas:</p>

                <figure class="screenshot-container">
                    <img src="img/21.png" alt="Screenshot de la terminal">
                    <figcaption>Fig 1. Creación de la BD 'Biblioteca' y asignación de privilegios con GRANT.</figcaption>
                </figure>
                <figure class="screenshot-container">
                    <img src="img/22.png" alt="Screenshot de la terminal">
                    <figcaption>Fig 2. Verificación de persistencia de datos y manipulación (DML) con el nuevo usuario.</figcaption>
                </figure>
            </div>
        </section>

        <section class="report-section">
            <h2 class="section-title"><i class="fas fa-box-open"></i> 4. Entregables</h2>
            <div class="download-card">
                <div class="download-info">
                    <h3><i class="fas fa-file-archive"></i> Paquete de Código</h3>
                    <p>Incluye Script SQL del respaldo.</p>
                </div>
                <a href="files/viernes.zip" class="btn-download" download>
                    <i class="fas fa-download"></i> Descargar ZIP
                </a>
            </div>
            <div class="readme-preview">
                <h4>Instrucciones rápidas:</h4>
                <pre class="cmd-preview">
$ sudo mariadb_secure_installation
$ mysql -u root -p
MariaDB [(none)]> CREATE DATABASE Biblioteca;
MariaDB [(none)]> GRANT ALL PRIVILEGES ON Biblioteca.* TO 'biblio_user'@'localhost' IDENTIFIED BY 'pass_segura';
MariaDB [(none)]> FLUSH PRIVILEGES;
$ mysql -u biblio_user -p
$ mysqldump -u biblio_user -p Biblioteca > respaldo_biblioteca.sql
                </pre>
            </div>
        </section>

        <section class="report-section">
            <h2 class="section-title"><i class="fas fa-lightbulb"></i> 5. Conclusiones</h2>
            <div class="content-box">
                <p><strong>Aprendizaje:</strong> Comprendí la importancia de no operar nunca como root. La creación de usuarios específicos para cada aplicación (en este caso, 'biblio_user') aísla los riesgos de seguridad. Además, aprendí a realizar respaldos "en caliente" sin detener el servicio.</p>
                <p><strong>Problemas y Soluciones:</strong> Al principio confundí la contraseña del usuario del sistema operativo con la del usuario de base de datos al usar `mysqldump`. Lo solucioné entendiendo que el flag `-p` solicita la contraseña del usuario de MariaDB definido en `-u`.</p>
                <p><strong>Mejoras Futuras:</strong> Automatizar el proceso de backup mediante un script en Bash y programarlo con `cron` para que se ejecute diariamente.</p>
            </div>
        </section>

        <section class="report-section">
            <h2 class="section-title"><i class="fas fa-quote-right"></i> 6. Referencias</h2>
            <div class="content-box">
                <ul class="references-list">
                    <li>MariaDB Foundation. (2025). <em>MariaDB Knowledge Base: Account Management</em>.</li>
                </ul>
            </div>
        </section>

    </main>

    <footer>
        <p>Lenin Campos | Bases de Datos Avanzadas</p>
    </footer>

    <script src="../../script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>

</html>